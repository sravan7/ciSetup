(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{49:function(e,a,t){e.exports=t(60)},54:function(e,a,t){},55:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},56:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var l,n=t(0),o=t.n(n),c=t(10),r=t.n(c),s=(t(54),t(6)),m=(t(55),t(56),t(12)),i={"sravan@email.com":{email:"sravan@email.com",password:"1234",fullName:"sravan"},"bala@email.com":{email:"bala@email.com",password:"1234",fullName:"bala"},"vishnu@email.com":{email:"vishnu@email.com",password:"1234",fullName:"vishnu"},"naidu@email.com":{email:"naidu@email.com",password:"1234",fullName:"naidu"}},u=(8*Math.random()).toString(16).replace(".",""),d=(8*Math.random()).toString(16).replace(".",""),p=(l={},Object(m.a)(l,u,{mid:u,date:(new Date).toGMTString(),subject:"hello",body:"hi sravan from bala",fullName:"sravan",fromMail:"bala@email.com",to:["sravan@email.com","bala@email.com"],cc:[],unread:["sravan@email.com","bala@email.com"]}),Object(m.a)(l,d,{mid:d,date:(new Date).toGMTString(),subject:"hi",body:"hi sravan, bala from sravan",fullName:"sravan",fromMail:"sravan@email.com",to:["sravan@email.com"],cc:[],unread:["sravan@email.com","bala@email.com"]}),l),v=[{mid:u,toMail:"sravan@email.com"},{mid:d,toMail:"sravan@email.com"},{mid:d,toMail:"bala@email.com"}],g=t(42),b=t(88),E=t(92),f=Object(g.a)({palette:{primary:{main:"#00b494"},secondary:{main:"#4caf50"}}});var N=function(e){var a=Object.assign({},e);return console.log(a),Object(n.useEffect)((function(){}),[]),o.a.createElement("div",{className:"loginControls"},o.a.createElement(b.a,{theme:f},o.a.createElement(E.a,a)))},h=t(41),y=t(91);var w=function(e){return console.log(Object(h.a)({},e)),o.a.createElement("div",{className:"loginControls"},o.a.createElement(y.a,e,e.type))},j=function(e){return JSON.parse(window.localStorage.getItem(e))},O=function(e,a){return window.localStorage.setItem(e,JSON.stringify(a)),!0},S=function(e){var a=function(e,a){var t=j("users");if(Object.keys(t).includes(e)){var l=t[e];return l.password===a&&l}return!1}(e.email,e.password);return a?{isError:!1,value:a}:{isError:!0,value:"no user exists"}},x=function(e,a){var t=j("messages");console.log(t);j("toMails");var l,n=[];if("inbox"==e)for(var o=0,c=Object.values(t);o<c.length;o++){var r=c[o];console.log(r),(r.to.includes(a)||r.cc.includes(a))&&n.push(r)}if("sent"==e)for(var s=0,m=Object.values(t);s<m.length;s++){var i=m[s];i.fromMail.includes(a)&&n.push(i)}return l=n,console.log(l.sort((function(e,a){return new Date(a.date)-new Date(e.date)}))),n=l.sort((function(e,a){return new Date(a.date)-new Date(e.date)}))},k=Object(g.a)({palette:{primary:{main:"#00b494"},secondary:{main:"#4caf50"}}});var C=function(e){var a,t=Object(n.useState)({isError:!1,value:""}),l=Object(s.a)(t,2),c=l[0],r=l[1];window.localStorage.getItem("users")||(window.localStorage.getItem("users")||window.localStorage.setItem("users",JSON.stringify(i)),window.localStorage.getItem("mesages")||window.localStorage.setItem("messages",JSON.stringify(p)),window.localStorage.getItem("toMails")||window.localStorage.setItem("toMails",JSON.stringify(v)));var u=["email","password"];return o.a.createElement("div",{className:"App-login"},o.a.createElement("form",{action:"none",onSubmit:function(a){a.preventDefault();var t={};u.map((function(e){var a=document.getElementById("login-"+e);t[e]=a.value})),console.log(t);var l=S(t);1==l.isError?r(l):e.handleLogin(l)}},o.a.createElement(b.a,{theme:k},o.a.createElement("div",{className:"login-header"},"Sign In"),u.map((function(e){return o.a.createElement(N,{id:"login-"+e,required:!0,type:e,name:e,autoFocus:"email"==e,label:e,color:"primary",variant:"outlined",fullWidth:!0})})),o.a.createElement(w,(a={variant:"outlined",color:"secondary",size:"medium"},Object(m.a)(a,"variant","contained"),Object(m.a)(a,"fullWidth",!0),Object(m.a)(a,"type","submit"),Object(m.a)(a,"value","Sign In"),Object(m.a)(a,"className","custom-button"),a)),c.isError?o.a.createElement("div",{className:"login-error"}," ",c.value," "):null)))};var D=function(e){return o.a.createElement("div",{className:"app-bar"},o.a.createElement("div",{className:"menu-icon",onClick:function(){document.querySelector(".app-bar").classList.toggle("app-bar-shrink"),document.querySelector(".extras-side-menu").classList.toggle("side-menu-push"),document.querySelector(".app-content").classList.toggle("app-content-shrink")}},"  "),o.a.createElement("div",{className:"app-search"},o.a.createElement("input",{id:"menuIcon",type:"text",name:"text",placeholder:"Search"})),o.a.createElement("div",{className:"inbox-count"}," "),o.a.createElement("div",{className:"notification"}," "),o.a.createElement("div",{className:"app-logout",onClick:e.handleLogout}," "))};var I=function(e){return o.a.createElement("div",{className:"menu"},o.a.createElement("div",{className:"menu-content"},o.a.createElement("button",{className:"mail-compose-button",onClick:e.handleCompose}," Compose Mail"),o.a.createElement("div",{className:"menu-folders"},"Folders"),o.a.createElement("div",{className:"menu-categories"},"Catergories"),o.a.createElement("div",{className:"menu-labels"},"Labels")))};var M=function(){return o.a.createElement("div",{className:"extras-side-menu"}," ")},L=t(93),J=Object(g.a)({palette:{primary:{main:"#00b494"},secondary:{main:"#4caf50"}}});var P=function(e){var a=e.content;return console.log(e,a),o.a.createElement("li",{className:"mail-item",id:e.content.unread.includes(e.user)&&"inbox"===e.type?"unreadMail":"",key:a.mid,onClick:function(){e.handleReadPopup(e.content)}},o.a.createElement(b.a,{theme:J},"  ",o.a.createElement(L.a,{className:"mail-item-checkbox",checked:!1,size:"small",value:a.mid,color:"primary"})," "),o.a.createElement("div",{className:"mail-item-fname"}," ",a.fullName," "),o.a.createElement("div",{className:"mail-item-subject"}," ",a.subject," "),o.a.createElement("div",{className:"mail-item-date"}," ",new Date(a.date).toLocaleString()," "))};var R=function(e){var a=Object(n.useState)(x(e.type,e.user)),t=Object(s.a)(a,2),l=t[0],c=t[1],r=function(a){a&&a.unread.includes(e.user)&&(!function(e,a){var t=j("messages"),l=t[e].unread;l=l.filter((function(e){return e!==a})),t[e].unread=l,O("messages",t)}(a.mid,e.user),console.log("soudnot"),c(x(e.type,e.user))),e.handleReadPopup(a)};return o.a.createElement("div",{className:"app-section"},o.a.createElement("div",{className:"mail-header"},o.a.createElement("div",{className:"mail-header-helper"},o.a.createElement("div",{className:"read-count"},e.type,"(",[].length,")"),o.a.createElement("div",{className:"inbox-search"},o.a.createElement("input",{className:"search-field"}),o.a.createElement("button",{className:"search-button"},"Search"))),o.a.createElement("div",{className:"mail-header-tools"},o.a.createElement("div",{className:"mail-header-tool-section mail-header-tool"},o.a.createElement("img",{src:"/sync-24px.svg",className:"mail-header-tool-refresh"}),o.a.createElement("img",{src:"/remove_red_eye-24px.svg",className:"mail-header-tool-eye"}),o.a.createElement("img",{src:"/warning-24px.svg",className:"mail-header-tool-warning"}),o.a.createElement("img",{src:"/delete-24px.svg",className:"mail-header-tool-delete"})),o.a.createElement("div",{className:"mail-header-tool-nav mail-header-tool"},o.a.createElement("img",{src:"/arrow_back-24px.svg",className:"mail-header-tool-back"}),o.a.createElement("img",{src:"/arrow_back-24px.svg",className:"mail-header-tool-fwd"})))),o.a.createElement("ul",{className:"mail-list"},l?l.map((function(a){return o.a.createElement(P,{key:a.mid,user:e.user,type:"inbox",content:a,handleReadPopup:r})})):o.a.createElement("div",null,"ohoo this space is empty ")))},q=t(13);var T=function(e){var a=Object(n.useState)(),t=Object(s.a)(a,2),l=t[0];return t[1],o.a.createElement("div",{className:"popup-to-wrapper"},o.a.createElement("div",{className:"role-section"},e.type,":"),o.a.createElement("div",{className:"popup-to"},e.mails.map((function(a,t){return o.a.createElement("span",{className:"to-accepted"},o.a.createElement("span",{className:"mail-text"},a),o.a.createElement("img",{src:"/close-24px.svg",className:"removeIt",onClick:function(){e.handleRemove(e.type,a)}}))})),o.a.createElement("input",{id:"to",className:"textarea-to",onKeyUp:function(a){if(13===a.keyCode||188===a.keyCode){console.log(a.target.value,a.target.value);var t=a.target.value.replace(/\s|,/gi,"");/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)&&e.handleAccept(e.type,t),a.target.value=""}else console.log(a.target.value)},value:l})))};var A=function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),l=t[0],c=t[1],r=Object(n.useState)([]),m=Object(s.a)(r,2),i=m[0],u=m[1],d=Object(n.useState)(),p=Object(s.a)(d,2),v=p[0],g=(p[1],Object(n.useState)()),b=Object(s.a)(g,2),E=b[0],f=(b[1],function(a){a&&(a.preventDefault(),a.stopPropagation()),e.handleClose()}),N=function(e,a){console.log(e,a),"to"===e&&c(l.filter((function(e){return e!==a}))),"cc"===e&&u(i.filter((function(e){return e!==a})))},h=function(e,a){"to"===e&&(console.log(a),c([].concat(Object(q.a)(l),[a]))),"cc"===e&&u([].concat(Object(q.a)(i),[a]))};return o.a.createElement("div",{className:"app-overlay",onClick:f},o.a.createElement("div",{className:"overlay-content"},o.a.createElement("div",{className:"popup-box",onClick:function(e){e.stopPropagation()}},"inbox"===e.type?o.a.createElement("div",{className:"popup-from"},"From",o.a.createElement("div",{className:"from",contentEditable:!0})):null,o.a.createElement(T,{type:"to",handleRemove:N,handleAccept:h,mails:l}),o.a.createElement(T,{type:"cc",handleRemove:N,handleAccept:h,mails:i}),o.a.createElement("div",{className:"popup-to-wrapper"},o.a.createElement("div",{className:"role-section"},"sub:"),o.a.createElement("div",{className:"popup-to"},o.a.createElement("input",{id:"popup-subject",className:"textarea-to",value:v}))),o.a.createElement("div",{className:"popup-body",id:"body-wrapper"},o.a.createElement("textarea",{id:"popup-body",className:"textarea-to",value:E}," ")),o.a.createElement("div",{className:"popup-handle"},o.a.createElement("button",{className:"close",onClick:f},"Close"),o.a.createElement("button",{className:"send",onClick:function(){if(l.length){var a=document.querySelector("#popup-body").value,t=document.querySelector("#popup-subject").value,n={mid:(8*Math.random()).toString(16).replace(".",""),date:(new Date).toGMTString(),subject:t,body:a,fullName:e.fullName,fromMail:e.user,to:l,cc:i,unread:[].concat(Object(q.a)(l),Object(q.a)(i))};console.log(n),function(e){var a=j("messages");return a[e.mid]=e,console.log(a),O("messages",a),!0}(n)&&f()}}},"Send")))))};var U=function(e){var a=Object(n.useState)(),t=Object(s.a)(a,2);return t[0],t[1],o.a.createElement("div",{className:"popup-to-wrapper"},o.a.createElement("div",{className:"role-section"},e.type,":"),o.a.createElement("div",{className:"popup-from"},e.mails.map((function(e,a){return o.a.createElement("span",{className:"to-accepted"},o.a.createElement("span",{className:"mail-text"},e))}))))};var W=function(e){console.log(e);var a=Object(n.useState)(e.mailData.to),t=Object(s.a)(a,2),l=t[0],c=(t[1],Object(n.useState)(e.mailData.cc)),r=Object(s.a)(c,2),m=r[0],i=(r[1],Object(n.useState)(e.mailData.subject)),u=Object(s.a)(i,2),d=u[0],p=(u[1],Object(n.useState)(e.mailData.body)),v=Object(s.a)(p,2),g=v[0],b=(v[1],Object(n.useState)([e.mailData.fromMail])),E=Object(s.a)(b,2),f=E[0],N=(E[1],function(a){a&&(a.preventDefault(),a.stopPropagation()),e.handleClose()});return o.a.createElement("div",{className:"app-overlay",onClick:N},o.a.createElement("div",{className:"overlay-content"},o.a.createElement("div",{className:"popup-box",onClick:function(e){e.stopPropagation()}},o.a.createElement(U,{type:"from",mails:f}),o.a.createElement(U,{type:"to",mails:l}),o.a.createElement(U,{type:"cc",mails:m}),o.a.createElement("div",{className:"popup-to-wrapper"},o.a.createElement("div",{className:"role-section"},"sub:"),o.a.createElement("div",{className:"popup-from"},o.a.createElement("input",{disabled:!0,id:"popup-subject",className:"textarea-to",value:d}))),o.a.createElement("div",{className:"popup-body",id:"body-wrapper"},o.a.createElement("textarea",{disabled:!0,id:"popup-body",className:"textarea-to",value:g}," ")),o.a.createElement("div",{className:"popup-from-handle"},o.a.createElement("button",{className:"close",onClick:N},"Close")))))};var _=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),l=t[0],c=t[1],r=Object(n.useState)(!1),m=Object(s.a)(r,2),i=m[0],u=m[1],d=Object(n.useState)({}),p=Object(s.a)(d,2),v=p[0],g=p[1],b=function(e){console.log(e),e&&g(e),console.log(v),u(!i)},E=function(){c(!l)};return o.a.createElement("div",{className:"dashboard"},o.a.createElement(M,null),o.a.createElement(D,{handleLogout:e.handleLogout}),o.a.createElement("div",{className:"app-content"},o.a.createElement(I,{handleCompose:E}),o.a.createElement(R,{handleReadPopup:b,type:"inbox",user:e.userData.email})),l?o.a.createElement(A,{type:"compose",handleClose:E,fullName:e.userData.fullName,user:e.userData.email}):null,i?o.a.createElement(W,{type:"inbox",handleClose:b,mailData:v}):null)};var B=function(){var e={isLogin:!1,value:""};window.localStorage.getItem("accessToken")&&(e={isLogin:!0,value:JSON.parse(window.localStorage.getItem("currentUser"))});var a=Object(n.useState)(e),t=Object(s.a)(a,2),l=t[0],c=t[1];return o.a.createElement("div",{className:"App"},l.isLogin?o.a.createElement(_,{handleLogout:function(){window.localStorage.removeItem("accessToken"),window.localStorage.removeItem("currentUser"),c({isLogin:!1,value:""})},userData:l.value}):o.a.createElement(C,{handleLogin:function(e){window.localStorage.setItem("accessToken",e.value.email),window.localStorage.setItem("currentUser",JSON.stringify(e.value)),console.log(e),c({isLogin:!0,value:e.value})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.1b38961b.chunk.js.map