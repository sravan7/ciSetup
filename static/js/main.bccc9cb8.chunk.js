(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{49:function(e,a,t){e.exports=t(60)},54:function(e,a,t){},55:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},56:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n,l=t(0),o=t.n(l),c=t(10),r=t.n(c),s=(t(54),t(6)),i=(t(55),t(56),t(12)),m={"sravan@email.com":{email:"sravan@email.com",password:"1234",fullName:"sravan"},"prem@email.com":{email:"prem@email.com",password:"1234",fullName:"prem"},"bala@email.com":{email:"bala@email.com",password:"1234",fullName:"bala"},"vishnu@email.com":{email:"vishnu@email.com",password:"1234",fullName:"vishnu"},"naidu@email.com":{email:"naidu@email.com",password:"1234",fullName:"naidu"}},u=(8*Math.random()).toString(16).replace(".",""),d=(8*Math.random()).toString(16).replace(".",""),p=(n={},Object(i.a)(n,u,{mid:u,date:(new Date).toGMTString(),subject:"hello",body:"hi sravan from bala",fullName:"sravan",fromMail:"bala@email.com",to:["sravan@email.com","bala@email.com"],cc:[],unread:["sravan@email.com","bala@email.com"]}),Object(i.a)(n,d,{mid:d,date:(new Date).toGMTString(),subject:"hi",body:"hi sravan, bala from sravan",fullName:"sravan",fromMail:"sravan@email.com",to:["sravan@email.com"],cc:[],unread:["sravan@email.com","bala@email.com"]}),n),v=[{mid:u,toMail:"sravan@email.com"},{mid:d,toMail:"sravan@email.com"},{mid:d,toMail:"bala@email.com"}],b=t(42),g=t(88),f=t(92),E=Object(b.a)({palette:{primary:{main:"#00b494"},secondary:{main:"#4caf50"}}});var N=function(e){var a=Object.assign({},e);return console.log(a),Object(l.useEffect)((function(){}),[]),o.a.createElement("div",{className:"loginControls"},o.a.createElement(g.a,{theme:E},o.a.createElement(f.a,a)))},h=t(41),y=t(91);var j=function(e){return console.log(Object(h.a)({},e)),o.a.createElement("div",{className:"loginControls"},o.a.createElement(y.a,e,e.type))},w=function(e){return JSON.parse(window.localStorage.getItem(e))},O=function(e,a){return window.localStorage.setItem(e,JSON.stringify(a)),!0},x=function(e){var a=function(e,a){var t=w("users");if(Object.keys(t).includes(e)){var n=t[e];return n.password===a&&n}return!1}(e.email,e.password);return a?{isError:!1,value:a}:{isError:!0,value:"no user exists"}},S=function(e,a){var t=w("messages");console.log(t,e,a);w("toMails");var n,l=[];if("inbox"==e)for(var o=0,c=Object.values(t);o<c.length;o++){var r=c[o];console.log(r),(r.to.includes(a)||r.cc.includes(a))&&l.push(r)}if("sent"==e)for(var s=0,i=Object.values(t);s<i.length;s++){var m=i[s];console.log(m.fromMail,a),m.fromMail===a&&l.push(m)}return console.log(l),n=l,console.log(n.sort((function(e,a){return new Date(a.date)-new Date(e.date)}))),l=n.sort((function(e,a){return new Date(a.date)-new Date(e.date)}))},C=Object(b.a)({palette:{primary:{main:"#00b494"},secondary:{main:"#4caf50"}}});var k=function(e){var a,t=Object(l.useState)({isError:!1,value:""}),n=Object(s.a)(t,2),c=n[0],r=n[1];window.localStorage.getItem("users")||(window.localStorage.getItem("users")||window.localStorage.setItem("users",JSON.stringify(m)),window.localStorage.getItem("mesages")||window.localStorage.setItem("messages",JSON.stringify(p)),window.localStorage.getItem("toMails")||window.localStorage.setItem("toMails",JSON.stringify(v)));var u=["email","password"];return o.a.createElement("div",{className:"App-login"},o.a.createElement("form",{action:"none",onSubmit:function(a){a.preventDefault();var t={};u.map((function(e){var a=document.getElementById("login-"+e);t[e]=a.value})),console.log(t);var n=x(t);1==n.isError?r(n):e.handleLogin(n)}},o.a.createElement(g.a,{theme:C},o.a.createElement("div",{className:"login-header"},"Sign In"),u.map((function(e){return o.a.createElement(N,{id:"login-"+e,required:!0,type:e,name:e,autoFocus:"email"==e,label:e,color:"primary",variant:"outlined",fullWidth:!0})})),o.a.createElement(j,(a={variant:"outlined",color:"secondary",size:"medium"},Object(i.a)(a,"variant","contained"),Object(i.a)(a,"fullWidth",!0),Object(i.a)(a,"type","submit"),Object(i.a)(a,"value","Sign In"),Object(i.a)(a,"className","custom-button"),a)),c.isError?o.a.createElement("div",{className:"login-error"}," ",c.value," "):null)))};var L=function(e){return o.a.createElement("div",{className:"app-bar"},o.a.createElement("div",{className:"menu-icon",onClick:function(){document.querySelector(".app-bar").classList.toggle("app-bar-shrink"),document.querySelector(".extras-side-menu").classList.toggle("side-menu-push"),document.querySelector(".app-content").classList.toggle("app-content-shrink")}},"  "),o.a.createElement("div",{className:"app-search"},o.a.createElement("input",{id:"menuIcon",type:"text",name:"text",placeholder:"Search"})),o.a.createElement("div",{className:"inbox-count"}," ",o.a.createElement("span",{className:"inbox-count-num"}," ",e.unreadCount," ")),o.a.createElement("div",{className:"notification"}," "),o.a.createElement("div",{className:"app-logout",onClick:e.handleLogout}," "))};var I=function(e){return console.log(e),o.a.createElement("div",{className:"menu"},o.a.createElement("div",{className:"menu-content"},o.a.createElement("button",{className:"mail-compose-button",onClick:e.handleCompose}," Compose Mail"),o.a.createElement("div",{className:"menu-folders"},"Folders",o.a.createElement("div",{className:"inbox"===e.mailboxType?"menu-inbox active":"menu-inbox",onClick:function(){e.handleMailboxType("inbox")}},o.a.createElement("span",{className:"inbox-text"},o.a.createElement("img",{src:"%PUBLIC_URL%/inbox-24px.svg"})," Inbox "),o.a.createElement("span",{className:"menu-inbox-count"},e.inboxCount)),o.a.createElement("div",{className:"sent"===e.mailboxType?"menu-inbox active":"menu-inbox",onClick:function(){e.handleMailboxType("sent")}},o.a.createElement("span",{className:"inbox-text"}," ",o.a.createElement("img",{src:"%PUBLIC_URL%/mail-24px.svg"})," Outbox"),o.a.createElement("span",{className:"menu-inbox-count"},e.outboxCount))),o.a.createElement("div",{className:"menu-categories"},"Catergories"),o.a.createElement("div",{className:"menu-labels"},"Labels")))};var M=function(){return o.a.createElement("div",{className:"extras-side-menu"}," ")},U=t(93),D=Object(b.a)({palette:{primary:{main:"#00b494"},secondary:{main:"#4caf50"}}});var P=function(e){var a=e.content,t=Object(l.useState)(!1),n=Object(s.a)(t,2),c=n[0],r=n[1];return o.a.createElement("li",{className:"mail-item",id:e.content.unread.includes(e.user)&&"inbox"===e.type?"unreadMail":"",key:a.mid},o.a.createElement(g.a,{theme:D},"  ",o.a.createElement(U.a,{type:"checkbox",className:"mail-item-checkbox",name:"delete",checked:c,onChange:function(e){e.stopPropagation&&e.stopPropagation(),console.log(e.target.checked),r(!c)},size:"small",value:a.mid,color:"primary"})," "),o.a.createElement("div",{className:"mail-item-group",onClick:function(a){e.handleReadPopup(e.content)}},o.a.createElement("div",{className:"mail-item-fname"}," ",a.fullName," "),o.a.createElement("div",{className:"mail-item-subject"}," ",a.subject," "),o.a.createElement("div",{className:"mail-item-date"}," ",new Date(a.date).toLocaleString()," ")))};var R=function(e){var a=Object(l.useState)("inbox"),t=Object(s.a)(a,2),n=t[0],c=t[1],r=Object(l.useState)(S(n,e.user)),i=Object(s.a)(r,2),m=i[0],u=i[1],d=function(){e.updateUnreadCount(m.filter((function(a){return a.unread.includes(e.user)})).length)};d(),n!==e.type&&(u(S(e.type,e.user)),d(),c(e.type));var p=function(a){a&&a.unread.includes(e.user)&&(!function(e,a){var t=w("messages"),n=t[e].unread;n=n.filter((function(e){return e!==a})),t[e].unread=n,O("messages",t)}(a.mid,e.user),console.log("soudnot"),u(S(e.type,e.user)),d()),e.handleReadPopup(a)};return o.a.createElement("div",{className:"app-section"},o.a.createElement("div",{className:"mail-header"},o.a.createElement("div",{className:"mail-header-helper"},o.a.createElement("div",{className:"read-count"},e.type,"(",m.length,")"),o.a.createElement("div",{className:"inbox-search"},o.a.createElement("input",{className:"search-field"}),o.a.createElement("button",{className:"search-button"},"Search"))),o.a.createElement("div",{className:"mail-header-tools"},o.a.createElement("div",{className:"mail-header-tool-section mail-header-tool"},o.a.createElement("img",{src:"%PUBLIC_URL%/sync-24px.svg",className:"mail-header-tool-refresh"}),o.a.createElement("img",{src:"%PUBLIC_URL%/remove_red_eye-24px.svg",className:"mail-header-tool-eye"}),o.a.createElement("img",{src:"%PUBLIC_URL%/warning-24px.svg",className:"mail-header-tool-warning"}),o.a.createElement("img",{src:"%PUBLIC_URL%/delete-24px.svg",className:"mail-header-tool-delete",onClick:function(){!function(e){var a=w("messages"),t=!0,n=!1,l=void 0;try{for(var o,c=e[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){delete a[o.value]}}catch(r){n=!0,l=r}finally{try{t||null==c.return||c.return()}finally{if(n)throw l}}O("messages",a)}(Array.from(document.getElementsByName("delete")).filter((function(e){return e.checked})).map((function(e){return e.value}))),u(S(e.type,e.user)),d()}})),o.a.createElement("div",{className:"mail-header-tool-nav mail-header-tool"},o.a.createElement("img",{src:"%PUBLIC_URL%/arrow_back-24px.svg",className:"mail-header-tool-back"}),o.a.createElement("img",{src:"%PUBLIC_URL%/arrow_back-24px.svg",className:"mail-header-tool-fwd"})))),o.a.createElement("ul",{className:"mail-list"},m?m.map((function(a){return o.a.createElement(P,{key:a.mid,user:e.user,type:e.type,content:a,handleReadPopup:p})})):o.a.createElement("div",null,"ohoo this space is empty ")))},B=t(13);var T=function(e){var a=Object(l.useState)(),t=Object(s.a)(a,2),n=t[0];return t[1],o.a.createElement("div",{className:"popup-to-wrapper"},o.a.createElement("div",{className:"role-section"},e.type,":"),o.a.createElement("div",{className:"popup-to"},e.mails.map((function(a,t){return o.a.createElement("span",{className:"to-accepted"},o.a.createElement("span",{className:"mail-text"},a),o.a.createElement("img",{src:"/close-24px.svg",className:"removeIt",onClick:function(){e.handleRemove(e.type,a)}}))})),o.a.createElement("input",{id:"to",className:"textarea-to",onKeyUp:function(a){if(13===a.keyCode||188===a.keyCode){console.log(a.target.value,a.target.value);var t=a.target.value.replace(/\s|,/gi,"");/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)&&e.handleAccept(e.type,t),a.target.value=""}else console.log(a.target.value)},value:n})))};var _=function(e){var a=Object(l.useState)([]),t=Object(s.a)(a,2),n=t[0],c=t[1],r=Object(l.useState)([]),i=Object(s.a)(r,2),m=i[0],u=i[1],d=Object(l.useState)(),p=Object(s.a)(d,2),v=p[0],b=(p[1],Object(l.useState)()),g=Object(s.a)(b,2),f=g[0],E=(g[1],function(a){a&&(a.preventDefault(),a.stopPropagation()),e.handleClose()}),N=function(e,a){console.log(e,a),"to"===e&&c(n.filter((function(e){return e!==a}))),"cc"===e&&u(m.filter((function(e){return e!==a})))},h=function(e,a){"to"===e&&(console.log(a),c([].concat(Object(B.a)(n),[a]))),"cc"===e&&u([].concat(Object(B.a)(m),[a]))};return o.a.createElement("div",{className:"app-overlay",onClick:E},o.a.createElement("div",{className:"overlay-content"},o.a.createElement("div",{className:"popup-box",onClick:function(e){e.stopPropagation()}},"inbox"===e.type?o.a.createElement("div",{className:"popup-from"},"From",o.a.createElement("div",{className:"from",contentEditable:!0})):null,o.a.createElement(T,{type:"to",handleRemove:N,handleAccept:h,mails:n}),o.a.createElement(T,{type:"cc",handleRemove:N,handleAccept:h,mails:m}),o.a.createElement("div",{className:"popup-to-wrapper"},o.a.createElement("div",{className:"role-section"},"sub:"),o.a.createElement("div",{className:"popup-to"},o.a.createElement("input",{id:"popup-subject",className:"textarea-to",value:v}))),o.a.createElement("div",{className:"popup-body",id:"body-wrapper"},o.a.createElement("textarea",{id:"popup-body",className:"textarea-to",value:f}," ")),o.a.createElement("div",{className:"popup-handle"},o.a.createElement("button",{className:"close",onClick:E},"Close"),o.a.createElement("button",{className:"send",onClick:function(){if(n.length){var a=document.querySelector("#popup-body").value,t=document.querySelector("#popup-subject").value,l={mid:(8*Math.random()).toString(16).replace(".",""),date:(new Date).toGMTString(),subject:t,body:a,fullName:e.fullName,fromMail:e.user,to:n,cc:m,unread:[].concat(Object(B.a)(n),Object(B.a)(m))};console.log(l),function(e){var a=w("messages");return a[e.mid]=e,console.log(a),O("messages",a),!0}(l)&&E()}}},"Send")))))};var J=function(e){var a=Object(l.useState)(),t=Object(s.a)(a,2);return t[0],t[1],o.a.createElement("div",{className:"popup-to-wrapper"},o.a.createElement("div",{className:"role-section"},e.type,":"),o.a.createElement("div",{className:"popup-from"},e.mails.map((function(e,a){return o.a.createElement("span",{className:"to-accepted"},o.a.createElement("span",{className:"mail-text"},e))}))))};var q=function(e){console.log(e);var a=Object(l.useState)(e.mailData.to),t=Object(s.a)(a,2),n=t[0],c=(t[1],Object(l.useState)(e.mailData.cc)),r=Object(s.a)(c,2),i=r[0],m=(r[1],Object(l.useState)(e.mailData.subject)),u=Object(s.a)(m,2),d=u[0],p=(u[1],Object(l.useState)(e.mailData.body)),v=Object(s.a)(p,2),b=v[0],g=(v[1],Object(l.useState)([e.mailData.fromMail])),f=Object(s.a)(g,2),E=f[0],N=(f[1],function(a){a&&(a.preventDefault(),a.stopPropagation()),e.handleClose()});return o.a.createElement("div",{className:"app-overlay",onClick:N},o.a.createElement("div",{className:"overlay-content"},o.a.createElement("div",{className:"popup-box",onClick:function(e){e.stopPropagation()}},o.a.createElement(J,{type:"from",mails:E}),o.a.createElement(J,{type:"to",mails:n}),o.a.createElement(J,{type:"cc",mails:i}),o.a.createElement("div",{className:"popup-to-wrapper"},o.a.createElement("div",{className:"role-section"},"sub:"),o.a.createElement("div",{className:"popup-from"},o.a.createElement("input",{disabled:!0,id:"popup-subject",className:"textarea-to",value:d}))),o.a.createElement("div",{className:"popup-body",id:"body-wrapper"},o.a.createElement("textarea",{disabled:!0,id:"popup-body",className:"textarea-to",value:b}," ")),o.a.createElement("div",{className:"popup-from-handle"},o.a.createElement("button",{className:"close",onClick:N},"Close")))))};var A=function(e){var a=Object(l.useState)(!1),t=Object(s.a)(a,2),n=t[0],c=t[1],r=Object(l.useState)(!1),i=Object(s.a)(r,2),m=i[0],u=i[1],d=Object(l.useState)({}),p=Object(s.a)(d,2),v=p[0],b=p[1],g=Object(l.useState)("inbox"),f=Object(s.a)(g,2),E=f[0],N=f[1],h=Object(l.useState)(0),y=Object(s.a)(h,2),j=y[0],w=y[1],O=function(e){console.log(e),e&&b(e),console.log(v),u(!m)},x=function(){c(!n)};return o.a.createElement("div",{className:"dashboard"},o.a.createElement(M,null),o.a.createElement(L,{handleLogout:e.handleLogout,unreadCount:j}),o.a.createElement("div",{className:"app-content"},o.a.createElement(I,{handleCompose:x,mailboxType:E,handleMailboxType:function(e){e!==E&&N(e)},inboxCount:0,outboxCount:0}),o.a.createElement(R,{updateUnreadCount:function(e){w(e)},handleReadPopup:O,type:E,user:e.userData.email})),n?o.a.createElement(_,{type:"compose",handleClose:x,fullName:e.userData.fullName,user:e.userData.email}):null,m?o.a.createElement(q,{type:E,handleClose:O,mailData:v}):null)};var W=function(){var e={isLogin:!1,value:""};window.localStorage.getItem("accessToken")&&(e={isLogin:!0,value:JSON.parse(window.localStorage.getItem("currentUser"))});var a=Object(l.useState)(e),t=Object(s.a)(a,2),n=t[0],c=t[1];return o.a.createElement("div",{className:"App"},n.isLogin?o.a.createElement(A,{handleLogout:function(){window.localStorage.removeItem("accessToken"),window.localStorage.removeItem("currentUser"),c({isLogin:!1,value:""})},userData:n.value}):o.a.createElement(k,{handleLogin:function(e){window.localStorage.setItem("accessToken",e.value.email),window.localStorage.setItem("currentUser",JSON.stringify(e.value)),console.log(e),c({isLogin:!0,value:e.value})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.bccc9cb8.chunk.js.map